!function r(c,a,s){function u(t,e){if(!a[t]){if(!c[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};c[t][0].call(o.exports,function(e){return u(c[t][1][e]||e)},o,o.exports,r,c,a,s)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,i){"use strict";window.__isSupportCocosAPI=function(e){var t=cc.ENGINE_VERSION;return e.replace(/[a-zA-Z]/g,function(e,t){return e.charCodeAt()}).replace(/[^\d]/g,"")-0<=t.replace(/[a-zA-Z]/g,function(e,t){return e.charCodeAt()}).replace(/[^\d]/g,"")-0},e("./rt-feature-premut-alpha.js"),e("./rt-sys.js"),e("./rt_input.js"),e("./rt-loadSubpackage.js"),e("./rt-game.js"),e("./rt-jsb.js"),e("./rt-websocket.js"),e("./rt-videoplayer.js"),e("./jsb-node.js"),e("./jsb-audio.js"),e("./jsb-loader.js"),e("./jsb-editbox.js"),delete window.__isSupportAPI},{"./jsb-audio.js":3,"./jsb-editbox.js":4,"./jsb-loader.js":6,"./jsb-node.js":7,"./rt-feature-premut-alpha.js":10,"./rt-game.js":11,"./rt-jsb.js":12,"./rt-loadSubpackage.js":13,"./rt-sys.js":14,"./rt-videoplayer.js":15,"./rt-websocket.js":17,"./rt_input.js":18}],2:[function(e,t,i){"use strict";e("./index.js"),e("./rt-adapter.js")},{"./index.js":1,"./rt-adapter.js":9}],3:[function(e,t,i){"use strict";cc.Audio=function(e){this.src=e,this.volume=1,this.loop=!1,this.id=-1};var n=loadRuntime();jsb.AudioEngine=n.AudioEngine,function(e,r){(cc.audioEngine=r).setMaxWebAudioSize=function(){},cc.Audio.State=r.AudioState;function t(e){return void 0===e?e=1:"string"==typeof e&&(e=Number.parseFloat(e)),e}e.play=function(){r.stop(this.id);var i=this.src;if(i.loaded)this.id=r.play2d(i._nativeAsset,this.loop,this.volume);else{var n=this;cc.loader.load({url:i.nativeUrl,skips:["Loader"]},function(e,t){e?cc.error(e):i.loaded||(i._nativeAsset=t,n.id=r.play2d(t,n.loop,n.volume))})}},e.pause=function(){r.pause(this.id)},e.resume=function(){r.resume(this.id)},e.stop=function(){r.stop(this.id)},e.destroy=function(){},e.setLoop=function(e){this.loop=e,r.setLoop(this.id,e)},e.getLoop=function(){return this.loop},e.setVolume=function(e){return e=t(e),this.volume=e,r.setVolume(this.id,e)},e.getVolume=function(){return this.volume},e.setCurrentTime=function(e){r.setCurrentTime(this.id,e)},e.getCurrentTime=function(){return r.getCurrentTime(this.id)},e.getDuration=function(){return r.getDuration(this.id)};var i={id:-1,clip:"",loop:!(e.getState=function(){return r.getState(this.id)}),volume:1},n={volume:1};r.play=function(i,n,o){if("number"!=typeof o&&(o=1),"string"==typeof i){cc.warnID(8401,"cc.audioEngine","cc.AudioClip","AudioClip","cc.AudioClip","audio");var e=i,t=cc.loader.md5Pipe;return t&&(e=t.transformURL(e)),r.play2d(e,n,o)}if(i)return i.loaded?r.play2d(i._nativeAsset,n,o):(cc.loader.load({url:i.nativeUrl,skips:["Loader"]},function(e,t){e?cc.error(e):i.loaded||(i._nativeAsset=t,r.play2d(t,n,o))}),-1)},r.playMusic=function(e,t){return r.stop(i.id),i.id=r.play(e,t,i.volume),i.loop=t,i.clip=e,i.id},r.stopMusic=function(){r.stop(i.id)},r.pauseMusic=function(){return r.pause(i.id),i.id},r.resumeMusic=function(){return r.resume(i.id),i.id},r.getMusicVolume=function(){return i.volume},r.setMusicVolume=function(e){return i.volume=t(e),r.setVolume(i.id,i.volume),e},r.isMusicPlaying=function(){return r.getState(i.id)===r.AudioState.PLAYING},r.playEffect=function(e,t){return r.play(e,t||!1,n.volume)},r.setEffectsVolume=function(e){n.volume=t(e)},r.getEffectsVolume=function(){return n.volume},r.pauseEffect=function(e){return r.pause(e)},r.pauseAllEffects=function(){var e=r.getState(i.id)===r.AudioState.PLAYING;r.pauseAll(),e&&r.resume(i.id)},r.resumeEffect=function(e){r.resume(e)},r.resumeAllEffects=function(){var e=r.getState(i.id)===r.AudioState.PAUSED;r.resumeAll(),e&&r.getState(i.id)===r.AudioState.PLAYING&&r.pause(i.id)},r.stopEffect=function(e){return r.stop(e)},r.stopAllEffects=function(){var e=r.getState(i.id)===r.AudioState.PLAYING,t=r.getCurrentTime(i.id);r.stopAll(),e&&(i.id=r.play(i.clip,i.loop),r.setCurrentTime(i.id,t))},r._break=function(){},r._restore=function(){},r._uncache=r.uncache,r.uncache=function(e){var t;if("string"==typeof e)cc.warnID(8401,"cc.audioEngine","cc.AudioClip","AudioClip","cc.AudioClip","audio"),t=e;else{if(!e)return;t=e._nativeAsset}r._uncache(t)},r._preload=r.preload,r.preload=function(e,t){cc.warn("`cc.audioEngine.preload` is deprecated, use `cc.loader.loadRes(url, cc.AudioClip)` instead please."),r._preload(e,t)}}(cc.Audio.prototype,jsb.AudioEngine)},{}],4:[function(o,e,t){"use strict";!function(){if(cc&&cc.EditBox)if(void 0===cc.EditBox._EditBoxImpl){var d,f,h=window.__isSupportCocosAPI("2.3.0");f=!0===h?(d=new cc.Mat4,new cc.Mat4):(d=cc.vmath.mat4.create(),cc.vmath.mat4.create());var e=cc.EditBox,t=cc.js,c=e.KeyboardReturnType,a=e.InputMode,s=e.InputFlag,i=e._ImplClass;t.extend(n,i),e._ImplClass=n,Object.assign(n.prototype,{init:function(e){e?this._delegate=e:cc.error("EditBox init failed")},beginEditing:function(){var t=this,i=this._delegate,e=i.inputMode===a.ANY,n=this._getRect(),o=i.maxLength<0?65535:i.maxLength,r=function(e){switch(e){case a.EMAIL_ADDR:return"email";case a.NUMERIC:case a.DECIMAL:return"number";case a.PHONE_NUMBER:return"phone";case a.URL:return"url";case a.SINGLE_LINE:case a.ANY:default:return"text"}}(i.inputMode);i.inputFlag===s.PASSWORD&&(r="password"),jsb.inputBox.onInput(function(e){i._string!==e.value&&i.editBoxTextChanged(e.value)}),jsb.inputBox.onConfirm(function(e){i.editBoxEditingReturn()}),jsb.inputBox.onComplete(function(e){t.endEditing()}),jsb.inputBox.show({defaultValue:i._string,maxLength:o,multiple:e,confirmHold:!1,confirmType:function(e){switch(e){case c.DEFAULT:case c.DONE:return"done";case c.SEND:return"send";case c.SEARCH:return"search";case c.GO:return"go";case c.NEXT:return"next"}return"done"}(i.returnType),inputType:r,originX:n.x,originY:n.y,width:n.width,height:n.height}),this._editing=!0,i.editBoxEditingDidBegan()},endEditing:function(){jsb.inputBox.offConfirm(),jsb.inputBox.offInput(),jsb.inputBox.offComplete(),this._editing=!1,jsb.inputBox.hide(),this._delegate.editBoxEditingDidEnded()},_getRect:function(){var e=this._delegate.node,t=cc.view._scaleX,i=cc.view._scaleY,n=cc.view._devicePixelRatio;e.getWorldMatrix(d),cc.Camera.findCamera(e).getWorldToScreenMatrix2D(f),!0===h?cc.Mat4.multiply(f,f,d):cc.vmath.mat4.mul(f,f,d);var o=e._contentSize,r=cc.v3();r.x=-e._anchorPoint.x*o.width,r.y=-e._anchorPoint.y*o.height,t/=n,i/=n;var c=cc.view._viewportRect,a=c.x/n,s=c.y/n;if(!0===h){cc.Mat4.translate(f,f,r);var u=f.m[0]*t,l=f.m[5]*i;return{x:f.m[12]*t+a,y:f.m[13]*i+s,width:o.width*u,height:o.height*l}}cc.vmath.mat4.translate(f,f,r);u=f.m00*t,l=f.m05*i;return{x:f.m12*t+a,y:f.m13*i+s,width:o.width*u,height:o.height*l}}})}else o("./jsb-editbox2.0.js");function n(){i.call(this)}}()},{"./jsb-editbox2.0.js":5}],5:[function(e,t,i){"use strict";!function(){if(cc&&cc.EditBox){var a=cc.EditBox.KeyboardReturnType,s=cc.EditBox.InputMode,u=cc.EditBox.InputFlag,e=cc.EditBox._EditBoxImpl.prototype;cc.EditBox.prototype.editBoxEditingDidBegan=function(){cc.Component.EventHandler.emitEvents(this.editingDidBegan,this),this.node.emit("editing-did-began",this)},cc.EditBox.prototype.editBoxEditingDidEnded=function(){cc.Component.EventHandler.emitEvents(this.editingDidEnded,this),this.node.emit("editing-did-ended",this)},cc.EditBox.prototype._updateStayOnTop=function(){},e.createInput=function(){var i=this;i._editing=!0;var e=this._inputMode===s.ANY,t=function(e){switch(e){case s.EMAIL_ADDR:return"email";case s.NUMERIC:case s.DECIMAL:return"number";case s.PHONE_NUMBER:return"phone";case s.URL:return"url";case s.SINGLE_LINE:case s.ANY:default:return"text"}}(i._inputMode);i._inputFlag===u.PASSWORD&&(t="password");var n=this._getRect();if(jsb.inputBox.show({defaultValue:i._text,maxLength:i._maxLength,multiple:e,confirmHold:!1,confirmType:function(e){switch(e){case a.DEFAULT:case a.DONE:return"done";case a.SEND:return"send";case a.SEARCH:return"search";case a.GO:return"go";case a.NEXT:return"next"}return"done"}(i._returnType),inputType:t,originX:n.x,originY:n.y,width:n.width,height:n.height}),this._delegate){var o=this._delegate;cc.Component.EventHandler.emitEvents(o.editingDidBegan,o),o.node.emit("editing-did-began",o),l(o)}function r(e){i._delegate&&i._delegate.editBoxEditingReturn&&i._delegate.editBoxEditingReturn()}function c(e){e.value.length>i._maxLength&&(e.value=e.value.slice(0,i._maxLength)),i._delegate&&i._delegate.editBoxTextChanged&&i._text!==e.value&&(i._text=e.value,i._delegate.editBoxTextChanged(i._text))}jsb.inputBox.onConfirm(r),jsb.inputBox.onInput(c),jsb.inputBox.onComplete(function e(t){i._endEditing(),jsb.inputBox.offConfirm(r),jsb.inputBox.offInput(c),jsb.inputBox.offComplete(e)})},e.setTabIndex=function(e){},e.setFocus=function(){this._beginEditing()},e.isFocused=function(){return this._editing},e.stayOnTop=function(e){},e._updateMatrix=function(){},e._updateSize=function(e,t){},e._getRect=function(){var e=this._node,t=cc.view._scaleX,i=cc.view._scaleY,n=cc.view._devicePixelRatio,o=cc.vmath,r=o.mat4.create();e.getWorldMatrix(r);var c=e._contentSize,a=cc.v3();a.x=-e._anchorPoint.x*c.width,a.y=-e._anchorPoint.y*c.height,o.mat4.translate(r,r,a),t/=n,i/=n;var s=r.m00*t,u=r.m05*i;return{x:r.m12*s,y:r.m13*u,width:c.width*s,height:c.height*u}},e.setMaxLength=function(e){isNaN(e)||(e<0&&(e=65535),this._maxLength=e)},e.setString=function(e){this._text=e,this._updateInput(),l(this._delegate)},e._updateInput=function(){var e=this._text;this._inputFlag===u.PASSWORD&&(e=e.replace(/./g,"*")),this._delegate._textLabel.string=e},e.setFontSize=function(e){this._edFontSize=e||this._edFontSize,this._delegate._textLabel.fontSize=this._edFontSize},e.setFontColor=function(e){this._textColor=e,this._delegate._textLabel.fontColor=this._textColor},e.setInputMode=function(e){this._inputMode=e},e.setInputFlag=function(e){this._inputFlag=e},e.setReturnType=function(e){this._returnType=e},e._beginEditing=function(){this.createInput()},e._endEditing=function(){this._editing&&(this._endEditingOnMobile(),this._delegate&&this._delegate.editBoxEditingDidEnded&&this._delegate.editBoxEditingDidEnded()),this._editing=!1},e.clear=function(){this._node=null,this.setDelegate(null)}}function l(e){var t=e._placeholderLabel,i=e._textLabel,n=e._impl._text;t.node.active=""===n,i.node.active=""!==n}}()},{}],6:[function(i,e,t){"use strict";function n(e,t){return i(e.url),null}function o(e){return e.url}function r(e,t){if(e._owner instanceof cc.AudioClip)return e.url;var i=new cc.AudioClip;return i._setRawAsset(e.rawUrl,!1),i._nativeAsset=e.url,i}function c(e,t){var i=new Image;i.src=e.url,i.onload=function(e){t(null,i)}}var a,s,u;function l(e){return e.content}s=function(e){var t=e.url,i=jsb.fileUtils.getStringFromFile(t);return"string"==typeof i&&i?i:new Error("Download text failed: "+t)},a=function(e){var t=e.url,i=jsb.fileUtils.getDataFromFile(t);return i||new Error("Download binary file failed: "+t)},u=function(e){var t=e.url;return jsb.loadFont(t)||"Arial"},cc.loader.addDownloadHandlers({js:n,jsc:n,png:c,jpg:c,bmp:c,jpeg:c,gif:c,ico:c,tiff:c,webp:c,image:c,pvr:c,pkm:c,mp3:o,ogg:o,wav:o,mp4:o,m4a:o,txt:s,xml:s,vsh:s,fsh:s,atlas:s,tmx:s,tsx:s,json:s,ExportJson:s,plist:s,fnt:s,binary:a,bin:a,dbbin:a,skel:a,default:s}),cc.loader.addLoadHandlers({font:u,eot:u,ttf:u,woff:u,svg:u,ttc:u,mp3:r,ogg:r,wav:r,mp4:r,m4a:r,pvr:l,pkm:l})},{}],7:[function(e,t,i){"use strict";var n=window.__isSupportCocosAPI("2.2.0"),o=window.__isSupportCocosAPI("2.3.0"),r=new Float32Array(16),c=!0===o?new cc.Mat4:cc.vmath.mat4.create();function a(e,t){e[0]=t.m00,e[1]=t.m01,e[2]=t.m02,e[3]=t.m03,e[4]=t.m04,e[5]=t.m05,e[6]=t.m06,e[7]=t.m07,e[8]=t.m08,e[9]=t.m09,e[10]=t.m10,e[11]=t.m11,e[12]=t.m12,e[13]=t.m13,e[14]=t.m14,e[15]=t.m15}cc.Node.prototype.getWorldRTInAB=function(){return this.getWorldRT(c),n?c.m:(a(r,c),r)},cc.Node.prototype.getWorldMatrixInAB=function(){return this._updateWorldMatrix(),n?this._worldMatrix.m:(a(r,this._worldMatrix),r)}},{}],8:[function(e,t,i){"use strict";var r=qg.getFileSystemManager?qg.getFileSystemManager():null;function c(){return r?null:(console.warn("can not get the file system!"),new Error("file system does not exist!"))}function n(e,t){var i=c();if(i)return i;r.unlink({filePath:e,success:function(){cc.log("Removed local file "+e+" successfully!"),t&&t(null)},fail:function(e){console.warn(e.errMsg),t&&t(new Error(e.errMsg))}})}function o(e,t,i){var n=c();if(n)return n;r.readFile({filePath:e,encoding:t,success:i?function(e){i(null,e.data)}:void 0,fail:function(e){console.warn(e.errMsg),i&&i(new Error(e.errMsg),null)}})}window.qgFsUtils=t.exports={fs:r,checkFsValid:c,readDir:function(e,t){var i=c();if(i)return i;r.readdir({dirPath:e,success:t?function(e){t(null,e.files)}:void 0,fail:t?function(e){t(new Error(e.errMsg),null)}:void 0})},exists:function(e,t){var i=c();if(i)return i;r.access({path:e,success:t?function(){t(!0)}:void 0,fail:t?function(){t(!1)}:void 0})},copyFile:function(e,t,i){var n=c();if(n)return n;r.copyFile({srcPath:e,destPath:t,success:function(){cc.log("copy file finished:"+t),i&&i(null)},fail:function(e){cc.log("copy file failed:"+e.errMsg),i&&i(new Error(e.errMsg))}})},downloadFile:function(t,e,i){qg.downloadFile({url:t,filePath:e,success:function(e){200===e.statusCode?i&&i(null,e.tempFilePath||e.filePath):(e.filePath&&n(e.filePath),console.warn("Download file failed: "+t),console.warn(e.errMsg),i&&i(new Error(e.errMsg),null))},fail:function(e){console.warn("Download file failed: "+t),console.warn(e.errMsg),i&&i(new Error(e.errMsg),null)}})},readText:function(e,t){return o(e,"utf8",t)},readArrayBuffer:function(e,t){return o(e,"",t)},saveFile:function(e,t,i){r.saveFile({tempFilePath:e,filePath:t,success:function(e){cc.log("save file finished:"+t),i&&i(null,e.savedFilePath)},fail:function(e){cc.log("save file failed:"+e.errMsg),i&&i(new Error(e.errMsg),null)}})},writeFile:function(e,t,i,n){var o=c();if(o)return o;r.writeFile({filePath:e,encoding:i,data:t,success:n?function(){n(null)}:void 0,fail:function(e){console.warn(e.errMsg),n&&n(new Error(e.errMsg))}})},deleteFile:n,writeFileSync:function(e,t,i){var n=c();if(n)return n;try{return r.writeFileSync(e,t,i),null}catch(e){return console.warn(e.message),new Error(e.message)}},readJsonSync:function(e){var t=c();if(t)return t;try{var i=r.readFileSync(e,"utf8");return JSON.parse(i)}catch(e){return console.warn(e.message),new Error(e.message)}},makeDirSync:function(e,t){var i=c();if(i)return i;try{return r.mkdirSync(e,t),null}catch(e){return console.warn(e.message),new Error(e.message)}}}},{}],9:[function(e,t,i){"use strict";var n="RTAdapter",u=e("./qg-fs-utils"),r=/^\w+:\/\/.*/,c=null,l=null,o=null,d=null,a=!1,s=/the maximum size of the file storage/,f=!qg.getFileSystemManager,h={},p=window.RTAdapter=function(){this.id=n,this.async=!0,this.pipeline=null,this.REMOTE_SERVER_ROOT="https://apkcdn.goodgame360.com/hcrsg/oppo/20200727/",this.SUBCONTEXT_ROOT=""};function _(e,t){!e.type||S(e.type)>=T.LOADABLE_MIN?function(i,n){var o=i.url,e=u.readText;S(i.type)===T.BIN&&(e=u.readArrayBuffer);var t=e(o,function(e,t){e?n(e):t?(i.states[cc.loader.downloader.id]=cc.Pipeline.ItemState.COMPLETE,n(null,t)):n(new Error("Empty file: "+o))});t&&n(t)}(e,t):t(null,null)}p.ID=n,p.prototype.init=function(){if(!f){this.cacheDir=qg.env.USER_DATA_PATH+"/gamecaches",this.cachedFileName="cacheList.json",this.cacheAsset=!0,this.cachePeriod=500,this.outOfStorage=!1,this.writeFilePeriod=2e3,d={},c={};var e=this.cacheDir+"/"+this.cachedFileName;(l=u.readJsonSync(e))instanceof Error&&(l={},u.makeDirSync(this.cacheDir,!0),u.writeFileSync(e,JSON.stringify(l),"utf8"))}},p.prototype.handle=function(e,t){if("js"===e.type)return null;if("uuid"===e.type){var i=cc.Pipeline.Downloader.PackDownloader.load(e,t);if(void 0!==i)return i||void 0}if(f)return r.test(e.url)?null:(e.url=this.SUBCONTEXT_ROOT+"/"+e.url,u.checkFsValid()?null:void _(e,t));!function(t,i){var e=u.checkFsValid();if(e)return i(e);var n=m.getCacheName(t.url);if(n in l)h[n]=!0,t.url=m.cacheDir+"/"+n,g(t,n),_(t,i);else{var o=function(e){if(e)_(t,i);else{if(!m.REMOTE_SERVER_ROOT)return void i(null,null);!function(i,n){var e=i.url;if(r.test(e))return n(null,null);var t=m.REMOTE_SERVER_ROOT+"/"+e;i.url=t;var o=m.getCacheName(e);u.downloadFile(t,void 0,function(e,t){e?n(e,null):(i.url=t,m.cacheAsset&&(function(e,t,i){if(d[e]={isCopy:t,cachePath:i},!a){a=!0,setTimeout(function t(){for(var i in d){if(m.outOfStorage)a=!1;else{var n=d[i],e=m.cacheDir+"/"+n.cachePath,o=u.copyFile;n.isCopy||(o=u.downloadFile),o(i,e,function(e){if(a=!1,e){if(s.test(e.message))return void(m.outOfStorage=!0)}else l[n.cachePath]=1,delete d[i],w();cc.js.isEmptyObject(d)||(a=!0,setTimeout(t,m.cachePeriod))})}return}a=!1},m.cachePeriod)}}(t,!0,o),g(i,o)),_(i,n))})}(t,i)}};t.url in c?o(c[t.url]):u.exists(t.url,function(e){c[t.url]=e,o(e)})}}(e,t)},p.prototype.cleanOldAssets=function(){return cc.warn("RTAdapter.cleanOldAssets has been deprecated, please use RTAdapter.cleanOldCaches instead!"),this.cleanOldCaches()},p.prototype.cleanOldCaches=function(){this.cleanAllCaches(h,function(e){if(e)cc.warn(e);else{for(var t in h)cc.log("reserve local file: "+t);cc.log("Clean old Assets successfully!")}})},p.prototype.getCacheName=function(e){return e.replace(/\//g,"-")},p.prototype.getCachedFileList=function(){return l},p.prototype.cleanCache=function(e){if(e in l){var t=this;delete l[e],w(function(){e in l||u.deleteFile(t.cacheDir+"/"+e,function(e){e||(t.outOfStorage=!1)})})}},p.prototype.cleanAllAssets=function(){cc.warn("RTAdapter.cleanAllAssets has been deprecated, please use cleanAllCaches instead!"),this.cleanAllCaches(null,function(e){e&&cc.error(e.message)})},p.prototype.cleanAllCaches=function(c,a){c=c||{};var s=this,e=u.readDir(s.cacheDir,function(e,t){if(e)a&&a(e);else{for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i];r!==s.cachedFileName&&(r in c||(r in d?delete d[r]:(delete l[r],n.push(r))))}w(function(){for(var t=0,e=0,i=n.length;e<i;e++)n[e]in l?++t===i&&(s.outOfStorage=!1,a&&a(null)):u.deleteFile(s.cacheDir+"/"+n[e],function(e){++t===i&&(s.outOfStorage=!1,a&&a(null))})})}});e&&a(e)};var m=window.rtAdapter=new p,v=cc.loader.subPackPipe||cc.loader.md5Pipe||cc.loader.assetLoader;function g(e,t){cc.LoadingItems.getQueue(e).addListener(e.id,function(e){e.error&&(e.url in d?delete d[e.url]:m.cleanCache(t))})}cc.loader.insertPipeAfter(v,m),m.init();var y=[],E=[],b=!1;function w(e){o?e&&y.push(e):(o=setTimeout(function(){b=!(o=null),u.writeFile(m.cacheDir+"/"+m.cachedFileName,JSON.stringify(l),"utf8",function(){b=!1;for(var e=0,t=y.length;e<t;e++)y[e]();y.length=0,y.push.apply(y,E),E.length=0})},m.writeFilePeriod),!0===b?e&&E.push(e):e&&y.push(e))}function S(e){return x[e]||T.DEFAULT}var T={IMAGE:1,FONT:2,AUDIO:3,SCRIPT:4,VIDEO:5,TEXT:6,BIN:7,DEFAULT:8,LOADABLE_MIN:6},x={js:T.SCRIPT,png:T.IMAGE,jpg:T.IMAGE,bmp:T.IMAGE,jpeg:T.IMAGE,gif:T.IMAGE,ico:T.IMAGE,tiff:T.IMAGE,webp:T.IMAGE,image:T.IMAGE,mp3:T.AUDIO,ogg:T.AUDIO,wav:T.AUDIO,m4a:T.AUDIO,mp4:T.VIDEO,avi:T.VIDEO,mov:T.VIDEO,mpg:T.VIDEO,mpeg:T.VIDEO,rm:T.VIDEO,rmvb:T.VIDEO,txt:T.TEXT,xml:T.TEXT,vsh:T.TEXT,fsh:T.TEXT,atlas:T.TEXT,tmx:T.TEXT,tsx:T.TEXT,json:T.TEXT,ExportJson:T.TEXT,plist:T.TEXT,fnt:T.TEXT,font:T.FONT,eot:T.FONT,ttf:T.FONT,woff:T.FONT,svg:T.FONT,ttc:T.FONT,binary:T.BIN,dbbin:T.BIN,skel:T.BIN,bin:T.BIN,pvr:T.BIN,pkm:T.BIN}},{"./qg-fs-utils":8}],10:[function(e,t,i){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(e=Math.round(e))<0?0:e<255?e:255}function n(){var e=window.qg;if("object"!=s(e))return console.error("not runtime platform"),"break";if("object"!==("undefined"==typeof cc?"undefined":s(cc)))return console.error("can not get cocos creator version"),"break";var t=cc.ENGINE_VERSION,i="2.0.9".replace(/[a-zA-Z]/g,function(e,t){return e.charCodeAt()}).replace(/[^\d]/g,"")-0<=t.replace(/[a-zA-Z]/g,function(e,t){return e.charCodeAt()}).replace(/[^\d]/g,"")-0,n="function"==typeof e.getFeature&&"function"==typeof e.setFeature,o="canvas.context2d.premultiply_image_data",r=!1;if(!i&&!n)return"break";if(i||(r=!0),n&&(e.setFeature(o,r),e.getFeature(o)===r))return"break";var c=Object.getOwnPropertyDescriptor(HTMLCanvasElement.prototype,"_data"),a=void 0;"object"===s(c)&&(a=c.get),delete HTMLCanvasElement.prototype._data,Object.defineProperty(HTMLCanvasElement.prototype,"_data",{get:function(){var e;return null===(e="function"==typeof a?a.bind(this)():this._dataInner)?null:(!0===e._premultHandled||(function(e,t){var i;if(t)for(var n=0,o=e._data.length;n<o;n+=4)0<(i=e._data[n+3]/255)&&i<255&&(e._data[n+0]=clamp(e._data[n+0]*i),e._data[n+1]=clamp(e._data[n+1]*i),e._data[n+2]=clamp(e._data[n+2]*i));else for(var r=0,c=e._data.length;r<c;r+=4)0<(i=255/e._data[r+3])&&i<255&&(e._data[r+0]=u(e._data[r+0]*i),e._data[r+1]=u(e._data[r+1]*i),e._data[r+2]=u(e._data[r+2]*i))}(e,r),e._premultHandled=!0),e)},set:function(e){this._dataInner=e}})}do{if("break"===n())break}while(0)},{}],11:[function(e,t,i){"use strict";cc.game.restart=function(){cc.sys.restartVM()},qg&&qg.onHide(function(){cc.game.emit(cc.game.EVENT_HIDE)}),qg&&qg.onShow(function(){cc.game.emit(cc.game.EVENT_SHOW)}),qg&&qg.onWindowResize&&qg.onWindowResize(function(){cc.game.canvas&&cc.view.setCanvasSize(window.innerWidth,window.innerHeight)})},{}],12:[function(e,t,i){"use strict";var a=loadRuntime();if(jsb.fileUtils={getStringFromFile:function(e){var t;try{t=a.getFileSystemManager().readFileSync(e,"utf8")}catch(e){cc.error(e)}return t},getDataFromFile:function(e){var t;try{t=a.getFileSystemManager().readFileSync(e)}catch(e){cc.error(e)}return t},getWritablePath:function(){return"".concat(a.env.USER_DATA_PATH,"/")},writeToFile:function(e,t){var i=JSON.stringify(e),n=!1;try{a.getFileSystemManager().writeFileSync(t,i,"utf8"),n=!0}catch(e){cc.error(e)}return n},getValueMapFromFile:function(e){var t,i={};try{t=a.getFileSystemManager().readFileSync(e,"utf8")}catch(e){cc.error(e)}return t?i=JSON.parse(t):i}},void 0===jsb.saveImageData&&(jsb.saveImageData=function(e,t,i,n){var o=n.lastIndexOf(".");if(-1===o)return!1;var r=n.substr(o+1),c=a.saveImageTempSync({data:e,width:t,height:i,fileType:r});return""!==c&&a.getFileSystemManager().saveFileSync(c,n)===n}),void 0===jsb.setPreferredFramesPerSecond&&(void 0!==a.setPreferredFramesPerSecond?jsb.setPreferredFramesPerSecond=a.setPreferredFramesPerSecond:jsb.setPreferredFramesPerSecond=function(){console.error("The jsb.setPreferredFramesPerSecond is not define!")}),jsb.device&&!jsb.device.getDeviceMotionValue){var n=0,o=0,r=0,c=void 0;jsb.device.setAccelerometerEnabled=function(e){if(void 0!==c!==e){if(!e)return qg.stopAccelerometer(),void(c=void(r=o=n=0));c=new Array(6).fill(0),qg.onAccelerometerChange(function(e){c[3]=1.25*e.x+n,c[4]=1.25*e.y+o,c[5]=1.25*e.z+r,n=.8*n+.2*c[3],o=.8*o+.2*c[4],r=.8*r+.2*c[5]})}},jsb.device.getDeviceMotionValue=function(){if(void 0!==c)return c.slice()}}},{}],13:[function(e,t,i){"use strict";if(cc.loader.downloader.loadSubpackage=function(e,t){loadRuntime().loadSubpackage({name:e,success:function(){t&&t()},fail:function(){t&&t(new Error("Failed to load subpackage ".concat(e)))}})},cc.Pipeline.SubPackPipe&&cc.Pipeline.SubPackPipe.prototype&&cc.Pipeline.SubPackPipe.prototype.transformURL){var n=cc.Pipeline.SubPackPipe.prototype.transformURL;cc.Pipeline.SubPackPipe.prototype.transformURL=function(e){return(e=n(e)).replace("subpackages/","")}}},{}],14:[function(e,t,i){"use strict";var n=cc.sys;if("function"==typeof loadRuntime){var o=loadRuntime();n.getNetworkType=o.getNetworkType,n.getBatteryLevel=o.getBatteryLevel,n.garbageCollect=o.triggerGC}"undefined"!=typeof __restartVM?n.restartVM=__restartVM:n.restartVM=function(){console.error("The restartVM is not define!")},"undefined"!=typeof __isObjectValid?n.isObjectValid=__isObjectValid:n.isObjectValid=function(){console.error("The sys.isObjectValid is not define!")}},{}],15:[function(t,e,i){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if("undefined"!=typeof loadRuntime){var a=loadRuntime();if(cc&&cc.VideoPlayer&&cc.VideoPlayer.Impl)if(!0!==window.__isSupportCocosAPI("2.3.0")){var g=cc.vmath.mat4.create(),s=cc.VideoPlayer.Impl,e=cc.VideoPlayer.Impl.prototype;cc.VideoPlayer.prototype._updateVideoSource=function(){var e="";this.resourceType===cc.VideoPlayer.ResourceType.REMOTE?e=this.remoteURL:this._clip&&(e=this._clip._nativeAsset||""),this._impl.setURL(e,this._mute||0===this._volume)},e._bindEvent=function(){var e=this._video,i=this;e&&(e.onPlay(function(){i._video===e&&(i._playing=!0,i._dispatchEvent(s.EventType.PLAYING))}),e.onEnded(function(){i._video===e&&(i._playing=!1,i._currentTime=i._duration,i._dispatchEvent(s.EventType.COMPLETED))}),e.onPause(function(){i._video===e&&(i._playing=!1,i._dispatchEvent(s.EventType.PAUSED))}),e.onTimeUpdate(function(e){var t=JSON.parse(e.position);if("object"===u(t))return i._duration=t.duration,void(i._currentTime=t.position);i._duration=e.duration,i._currentTime=e.position}))},e._unbindEvent=function(){var e=this._video;e&&(e.offPlay(),e.offEnded(),e.offPause(),e.offTimeUpdate())},e.setVisible=function(e){var t=this._video;t&&(t.width=e&&this._actualWidth||0,this._visible=e)},e.createDomElementIfNeeded=function(){a.createVideo||cc.warn("VideoPlayer not supported")},e.setURL=function(e,t,i){if((this._src!==e||i)&&(this._src=e,this._tx)){var n;this._video&&(this.destroy(),this._video=null),n="string"!=typeof this._src?this._src._audio:this._src,this._duration=-1,this._currentTime=-1,this._video=a.createVideo({x:this._tx,y:this._ty,width:this._width,height:this._height,src:n,objectFit:"contain",live:!1});var o=this._video;o.src=n,o.muted=!0;var r=this;this._loaded=!1;var c=function(e){var t=JSON.parse(e.position);if("object"===u(t))return r._duration=t.duration,void(r._currentTime=t.position);r._duration=e.duration,r._currentTime=e.position};o.onPlay(function e(){o.offPlay(e),o.offTimeUpdate(c),r.enable(),r._bindEvent(),o.stop(),o.muted=!1,r._loaded=!0,r._playing=!1,r._currentTime=0,r._dispatchEvent(s.EventType.READY_TO_PLAY)}),o.onTimeUpdate(c),o.play()}},e.getURL=function(){var e=this._video;return e?e.src:""},e.play=function(){var e=this._video;e&&this._visible&&!this._playing&&e.play()},e.setStayOnBottom=function(e){},e.pause=function(){var e=this._video;this._playing&&e&&e.pause()},e.resume=function(){var e=this._video;!this._playing&&e&&e.play()},e.stop=function(){var e=this._video;e&&this._visible&&(e.stop(),this._dispatchEvent(s.EventType.STOPPED),this._playing=!1)},e.setVolume=function(e){},e.seekTo=function(e){var t=this._video;t&&this._loaded&&t.seek(e)},e.isPlaying=function(){return this._playing},e.duration=function(){return this._duration},e.currentTime=function(){return this._currentTime?this._currentTime:-1},e.setKeepAspectRatioEnabled=function(e){cc.log("On wechat game is always keep the aspect ratio")},e.isKeepAspectRatioEnabled=function(){return!0},e.isFullScreenEnabled=function(){return this._fullScreenEnabled},e.setFullScreenEnabled=function(e){var t=this._video;t&&this._fullScreenEnabled!==e&&(e?t.requestFullScreen():t.exitFullScreen(),this._fullScreenEnabled=e)},e.enable=function(){this.setVisible(!0)},e.disable=function(){this.setVisible(!1)},e.destroy=function(){this.disable(),this._unbindEvent(),this.stop(),this._video&&(this._video.destroy(),this._video=void 0),a.triggerGC()},e.updateMatrix=function(e){e.getWorldMatrix(g);var t=cc.Camera._findRendererCamera(e);if(t&&t.worldMatrixToScreen(g,g,cc.visibleRect.width,cc.visibleRect.height),this._forceUpdate||this._m00!==g.m00||this._m01!==g.m01||this._m04!==g.m04||this._m05!==g.m05||this._m12!==g.m12||this._m13!==g.m13||this._w!==e._contentSize.width||this._h!==e._contentSize.height){this._m00=g.m00,this._m01=g.m01,this._m04=g.m04,this._m05=g.m05,this._m12=g.m12,this._m13=g.m13,this._w=e._contentSize.width,this._h=e._contentSize.height;var i=cc.game.container,n=i&&i.style.paddingLeft?parseInt(i.style.paddingLeft):0,o=i&&i.style.paddingBottom?parseInt(i.style.paddingBottom):0,r=cc.view._scaleX,c=cc.view._scaleY,a=cc.view._devicePixelRatio;r/=a,c/=a;var s=g.m00*r,u=(g.m01,g.m04,g.m05*c),l=this._w*r,d=this._h*c,f=l*g.m00*e._anchorPoint.x,h=d*g.m05*e._anchorPoint.y,p=cc.view._viewportRect;n+=p.x/a,o+=p.y/a;var _=g.m12*r-f+n,m=g.m13*c-h+o,v=cc.view.getFrameSize().height;l*=g.m00,d*=g.m05,this._tx=_,this._ty=v-d-m,this._width=this._w*s,this._height=this._h*u,this._video||this.setURL(this._src,void 0,!0),this._video&&(this._video.x=_,this._video.y=m,this._video.width=l,this._video.height=d),this._actualWidth=l}}}else t("./rt-videoplayer2.3.js")}}()},{"./rt-videoplayer2.3.js":16}],16:[function(e,t,i){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if("undefined"!=typeof loadRuntime){var c=loadRuntime();if(cc&&cc.VideoPlayer&&cc.VideoPlayer.Impl){var m=cc.Mat4,v=new cc.Mat4,g=new cc.Mat4,a=cc.VideoPlayer.Impl,e=cc.VideoPlayer.Impl.prototype;cc.VideoPlayer.prototype._updateVideoSource=function(){var i=this,n=this._clip;this.resourceType===cc.VideoPlayer.ResourceType.REMOTE?this._impl.setURL(this.remoteURL,this._mute||0===this._volume):n&&(n._nativeAsset?this._impl.setURL(n._nativeAsset,this._mute||0===this._volume):cc.loader.load(n.nativeUrl,function(e,t){e?console.error(e):(n._nativeAsset=t,i._impl.setURL(t,i._mute||0===i._volume))}))},e._bindEvent=function(){var e=this._video,i=this;e&&(e.onPlay(function(){i._video===e&&(i._playing=!0,i._dispatchEvent(a.EventType.PLAYING))}),e.onEnded(function(){i._video===e&&(i._playing=!1,i._currentTime=i._duration,i._dispatchEvent(a.EventType.COMPLETED))}),e.onPause(function(){i._video===e&&(i._playing=!1,i._dispatchEvent(a.EventType.PAUSED))}),e.onTimeUpdate(function(e){var t=JSON.parse(e.position);if("object"===s(t))return i._duration=t.duration,void(i._currentTime=t.position);i._duration=e.duration,i._currentTime=e.position}))},e._unbindEvent=function(){var e=this._video;e&&(e.offPlay(),e.offEnded(),e.offPause(),e.offTimeUpdate())},e.setVisible=function(e){var t=this._video;t&&(t.width=e&&this._actualWidth||0,this._visible=e)},e.createDomElementIfNeeded=function(){c.createVideo||cc.warn("VideoPlayer not supported")},e.setURL=function(e,t){var i=this._video;if((!i||i.src!==e)&&this._tx){var n;this._video&&(this.destroy(),this._video=null),n="string"!=typeof e?e._audio:e,this._duration=-1,this._currentTime=-1,this._video=c.createVideo({x:this._tx,y:this._ty,width:this._width,height:this._height,src:n,objectFit:"contain",live:!1}),(i=this._video).src=n,i.muted=!0;var o=this;this._loaded=!1;var r=function(e){var t=JSON.parse(e.position);if("object"===s(t))return o._duration=t.duration,void(o._currentTime=t.position);o._duration=e.duration,o._currentTime=e.position};i.onPlay(function e(){i.offPlay(e),i.offTimeUpdate(r),o.enable(),o._bindEvent(),i.stop(),i.muted=!1,o._loaded=!0,o._playing=!1,o._currentTime=0,o._dispatchEvent(a.EventType.READY_TO_PLAY)}),i.onTimeUpdate(r),i.play()}},e.getURL=function(){var e=this._video;return e?e.src:""},e.play=function(){var e=this._video;e&&this._visible&&!this._playing&&e.play()},e.setStayOnBottom=function(e){},e.pause=function(){var e=this._video;this._playing&&e&&e.pause()},e.resume=function(){var e=this._video;!this._playing&&e&&e.play()},e.stop=function(){var e=this._video;e&&this._visible&&(e.stop(),this._dispatchEvent(a.EventType.STOPPED),this._playing=!1)},e.setVolume=function(e){},e.seekTo=function(e){var t=this._video;t&&this._loaded&&t.seek(e)},e.isPlaying=function(){return this._playing},e.duration=function(){return this._duration},e.currentTime=function(){return this._currentTime?this._currentTime:-1},e.setKeepAspectRatioEnabled=function(e){cc.log("On wechat game is always keep the aspect ratio")},e.isKeepAspectRatioEnabled=function(){return!0},e.isFullScreenEnabled=function(){return this._fullScreenEnabled},e.setFullScreenEnabled=function(e){var t=this._video;t&&this._fullScreenEnabled!==e&&(e?t.requestFullScreen():t.exitFullScreen(),this._fullScreenEnabled=e)},e.enable=function(){this.setVisible(!0)},e.disable=function(){this.setVisible(!1)},e.destroy=function(){this.disable(),this._unbindEvent(),this.stop(),this._video&&(this._video.destroy(),this._video=void 0),c.triggerGC()},e.updateMatrix=function(e){if(e.getWorldMatrix(v),this._m00!==v.m[0]||this._m01!==v.m[1]||this._m04!==v.m[4]||this._m05!==v.m[5]||this._m12!==v.m[12]||this._m13!==v.m[13]||this._w!==e._contentSize.width||this._h!==e._contentSize.height){this._m00=v.m[0],this._m01=v.m[1],this._m04=v.m[4],this._m05=v.m[5],this._m12=v.m[12],this._m13=v.m[13],this._w=e._contentSize.width,this._h=e._contentSize.height,cc.Camera.findCamera(e).getWorldToScreenMatrix2D(g),m.multiply(g,g,v);var t=cc.view._scaleX,i=cc.view._scaleY,n=cc.view._devicePixelRatio;t/=n,i/=n;var o=g.m[0]*t,r=g.m[5]*i,c=this._w*o,a=this._h*r,s=c*e._anchorPoint.x,u=a*e._anchorPoint.y,l=cc.view._viewportRect,d=l.x/n,f=l.y/n,h=g.m[12]*t-s+d,p=g.m[13]*i-u+f,_=cc.view.getFrameSize().height;this._tx=h,this._ty=p,this._width=c,this._height=a,this._video&&(this._video.x=h,this._video.y=_-a-p,this._video.width=c,this._video.height=a),this._actualWidth=c}}}}}()},{}],17:[function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var r=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);do{if("string"!=typeof i)break;if(void 0===window.rtAdapter||void 0===window.rtAdapter.REMOTE_SERVER_ROOT)break;var n=rtAdapter.getCacheName(i),o=rtAdapter.cacheDir+"/"+n;try{qg.getFileSystemManager().accessSync(o)}catch(e){console.warn("use default certificate .certificatePath is not exist in: ",o),i=void 0;break}i=o}while(0);return c(this,a(r).call(this,e,t,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,window.WebSocket),r}();delete window.WebSocket,window.WebSocket=r,delete window.RTWebSocket},{}],18:[function(e,t,i){"use strict";var n=loadRuntime();jsb.inputBox={onConfirm:function(e){n.onKeyboardConfirm(e)},offConfirm:function(e){n.offKeyboardConfirm(e)},onComplete:function(e){n.onKeyboardComplete(e)},offComplete:function(e){n.offKeyboardComplete(e)},onInput:function(e){n.onKeyboardInput(e)},offInput:function(e){n.offKeyboardInput(e)},show:function(e){n.showKeyboard(e)},hide:function(){n.hideKeyboard()}}},{}]},{},[2]);